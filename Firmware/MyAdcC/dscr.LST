A51 MACRO ASSEMBLER  DSCR                                                                 05/17/2020 16:50:37 PAGE     1


MACRO ASSEMBLER A51 V7.08a
OBJECT MODULE PLACED IN dscr.OBJ
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\A51.EXE dscr.a51 SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ;;-----------------------------------------------------------------------------
                       2     ;;   File:      dscr.a51
                       3     ;;   Contents:  This file contains descriptor data tables.
                       4     ;;
                       5     ;; $Archive: /USB/Examples/Fx2lp/bulkloop/dscr.a51 $
                       6     ;; $Date: 9/01/03 8:51p $
                       7     ;; $Revision: 3 $
                       8     ;;
                       9     ;;
                      10     ;;-----------------------------------------------------------------------------
                      11     ;; Copyright 2003, Cypress Semiconductor Corporation
                      12     ;;-----------------------------------------------------------------------------;;----------
                             -------------------------------------------------------------------
                      13        
  0001                14     DSCR_DEVICE   equ   1   ;; Descriptor type: Device
  0002                15     DSCR_CONFIG   equ   2   ;; Descriptor type: Configuration
  0003                16     DSCR_STRING   equ   3   ;; Descriptor type: String
  0004                17     DSCR_INTRFC   equ   4   ;; Descriptor type: Interface
  0005                18     DSCR_ENDPNT   equ   5   ;; Descriptor type: Endpoint
  0006                19     DSCR_DEVQUAL  equ   6   ;; Descriptor type: Device Qualifier
                      20     
  0012                21     DSCR_DEVICE_LEN   equ   18
  0009                22     DSCR_CONFIG_LEN   equ    9
  0009                23     DSCR_INTRFC_LEN   equ    9
  0007                24     DSCR_ENDPNT_LEN   equ    7
  000A                25     DSCR_DEVQUAL_LEN  equ   10
                      26     
  0000                27     ET_CONTROL   equ   0   ;; Endpoint type: Control
  0001                28     ET_ISO       equ   1   ;; Endpoint type: Isochronous
  0002                29     ET_BULK      equ   2   ;; Endpoint type: Bulk
  0003                30     ET_INT       equ   3   ;; Endpoint type: Interrupt
                      31     
                      32     public      DeviceDscr, DeviceQualDscr, HighSpeedConfigDscr, FullSpeedConfigDscr, StringDsc
                             r, UserDscr
                      33     
                      34     DSCR   SEGMENT   CODE PAGE
                      35     
                      36     ;;-----------------------------------------------------------------------------
                      37     ;; Global Variables
                      38     ;;-----------------------------------------------------------------------------
----                  39           rseg DSCR      ;; locate the descriptor table in on-part memory.
                      40     
0000                  41     DeviceDscr:   
0000 12               42           db   DSCR_DEVICE_LEN      ;; Descriptor length
0001 01               43           db   DSCR_DEVICE   ;; Decriptor type
0002 0002             44           dw   0002H      ;; Specification Version (BCD)
0004 00               45           db   00H        ;; Device class
0005 00               46           db   00H         ;; Device sub-class
0006 00               47           db   00H         ;; Device sub-sub-class
0007 40               48           db   64         ;; Maximum packet size
0008 B404             49           dw   0B404H      ;; Vendor ID
000A 0410             50           dw   0410H      ;; Product ID (Sample Device)
000C 0000             51           dw   0000H      ;; Product version ID
000E 01               52           db   1         ;; Manufacturer string index
000F 02               53           db   2         ;; Product string index
0010 00               54           db   0         ;; Serial number string index
0011 01               55           db   1         ;; Number of configurations
                      56     
A51 MACRO ASSEMBLER  DSCR                                                                 05/17/2020 16:50:37 PAGE     2

0012                  57     DeviceQualDscr:
0012 0A               58           db   DSCR_DEVQUAL_LEN   ;; Descriptor length
0013 06               59           db   DSCR_DEVQUAL   ;; Decriptor type
0014 0002             60           dw   0002H      ;; Specification Version (BCD)
0016 00               61           db   00H        ;; Device class
0017 00               62           db   00H         ;; Device sub-class
0018 00               63           db   00H         ;; Device sub-sub-class
0019 40               64           db   64         ;; Maximum packet size
001A 01               65           db   1         ;; Number of configurations
001B 00               66           db   0         ;; Reserved
                      67     
001C                  68     HighSpeedConfigDscr:   
001C 09               69           db   DSCR_CONFIG_LEN               ;; Descriptor length
001D 02               70           db   DSCR_CONFIG                  ;; Descriptor type
001E 19               71           db   (HighSpeedConfigDscrEnd-HighSpeedConfigDscr) mod 256 ;; Total Length (LSB)
001F 00               72           db   (HighSpeedConfigDscrEnd-HighSpeedConfigDscr)  /  256 ;; Total Length (MSB)
0020 01               73           db   1      ;; Number of interfaces
0021 01               74           db   1      ;; Configuration number
0022 00               75           db   0      ;; Configuration string
0023 80               76           db   10000000b   ;; Attributes (b7 - buspwr, b6 - selfpwr, b5 - rwu)
0024 32               77           db   50      ;; Power requirement (div 2 ma)
                      78     
                      79     ;; Interface Descriptor
0025 09               80           db   DSCR_INTRFC_LEN      ;; Descriptor length
0026 04               81           db   DSCR_INTRFC         ;; Descriptor type
0027 00               82           db   0               ;; Zero-based index of this interface
0028 00               83           db   0               ;; Alternate setting
0029 01               84           db   1               ;; Number of end points 
002A FF               85           db   0ffH            ;; Interface class
002B 00               86           db   00H               ;; Interface sub class
002C 00               87           db   00H               ;; Interface sub sub class
002D 00               88           db   0               ;; Interface descriptor string index
                      89     
                      90     ;; Endpoint Descriptor
002E 07               91           db   DSCR_ENDPNT_LEN      ;; Descriptor length
002F 05               92           db   DSCR_ENDPNT         ;; Descriptor type
0030 82               93           db   82H               ;; Endpoint number, and direction
0031 02               94           db   ET_BULK            ;; Endpoint type
0032 00               95           db   00H               ;; Maximun packet size (LSB)
0033 04               96           db   04H               ;; Max packect size (MSB)
0034 00               97           db   00H               ;; Polling interval
                      98     
0035                  99     HighSpeedConfigDscrEnd:   
                     100     
0035                 101     FullSpeedConfigDscr:   
0035 09              102           db   DSCR_CONFIG_LEN               ;; Descriptor length
0036 02              103           db   DSCR_CONFIG                  ;; Descriptor type
0037 19              104           db   (FullSpeedConfigDscrEnd-FullSpeedConfigDscr) mod 256 ;; Total Length (LSB)
0038 00              105           db   (FullSpeedConfigDscrEnd-FullSpeedConfigDscr)  /  256 ;; Total Length (MSB)
0039 01              106           db   1      ;; Number of interfaces
003A 01              107           db   1      ;; Configuration number
003B 00              108           db   0      ;; Configuration string
003C 80              109           db   10000000b   ;; Attributes (b7 - buspwr, b6 - selfpwr, b5 - rwu)
003D 32              110           db   50      ;; Power requirement (div 2 ma)
                     111     
                     112     ;; Interface Descriptor
003E 09              113           db   DSCR_INTRFC_LEN      ;; Descriptor length
003F 04              114           db   DSCR_INTRFC         ;; Descriptor type
0040 00              115           db   0               ;; Zero-based index of this interface
0041 00              116           db   0               ;; Alternate setting
0042 01              117           db   1               ;; Number of end points 
0043 FF              118           db   0ffH            ;; Interface class
0044 00              119           db   00H               ;; Interface sub class
0045 00              120           db   00H               ;; Interface sub sub class
0046 00              121           db   0               ;; Interface descriptor string index
                     122     
A51 MACRO ASSEMBLER  DSCR                                                                 05/17/2020 16:50:37 PAGE     3

                     123     ;; Endpoint Descriptor
0047 07              124           db   DSCR_ENDPNT_LEN      ;; Descriptor length
0048 05              125           db   DSCR_ENDPNT         ;; Descriptor type
0049 82              126           db   82H               ;; Endpoint number, and direction
004A 02              127           db   ET_BULK            ;; Endpoint type
004B 40              128           db   40H               ;; Maximun packet size (LSB)
004C 00              129           db   00H               ;; Max packect size (MSB)
004D 00              130           db   00H               ;; Polling interval
                     131     
004E                 132     FullSpeedConfigDscrEnd:   
                     133     
004E                 134     StringDscr:
                     135     
004E                 136     StringDscr0:   
004E 04              137           db   StringDscr0End-StringDscr0      ;; String descriptor length
004F 03              138           db   DSCR_STRING
0050 0904            139           db   09H,04H
0052                 140     StringDscr0End:
                     141     
0052                 142     StringDscr1:   
0052 10              143           db   StringDscr1End-StringDscr1      ;; String descriptor length
0053 03              144           db   DSCR_STRING
0054 4300            145           db   'C',00
0056 7900            146           db   'y',00
0058 7000            147           db   'p',00
005A 7200            148           db   'r',00
005C 6500            149           db   'e',00
005E 7300            150           db   's',00
0060 7300            151           db   's',00
0062                 152     StringDscr1End:
                     153     
0062                 154     StringDscr2:   
0062 0E              155           db   StringDscr2End-StringDscr2      ;; Descriptor length
0063 03              156           db   DSCR_STRING
0064 4500            157           db   'E',00
0066 5A00            158           db   'Z',00
0068 2D00            159           db   '-',00
006A 5500            160           db   'U',00
006C 5300            161           db   'S',00
006E 4200            162           db   'B',00
0070                 163     StringDscr2End:
                     164     
0070                 165     UserDscr:      
0070 0000            166           dw   0000H
                     167           end
                                   
A51 MACRO ASSEMBLER  DSCR                                                                 05/17/2020 16:50:37 PAGE     4

SYMBOL TABLE LISTING
------ ----- -------


N A M E                 T Y P E  V A L U E   ATTRIBUTES

DEVICEDSCR . . . . . .  C ADDR   0000H   R   SEG=DSCR
DEVICEQUALDSCR . . . .  C ADDR   0012H   R   SEG=DSCR
DSCR . . . . . . . . .  C SEG    0072H       REL=PAGE
DSCR_CONFIG. . . . . .  N NUMB   0002H   A   
DSCR_CONFIG_LEN. . . .  N NUMB   0009H   A   
DSCR_DEVICE. . . . . .  N NUMB   0001H   A   
DSCR_DEVICE_LEN. . . .  N NUMB   0012H   A   
DSCR_DEVQUAL . . . . .  N NUMB   0006H   A   
DSCR_DEVQUAL_LEN . . .  N NUMB   000AH   A   
DSCR_ENDPNT. . . . . .  N NUMB   0005H   A   
DSCR_ENDPNT_LEN. . . .  N NUMB   0007H   A   
DSCR_INTRFC. . . . . .  N NUMB   0004H   A   
DSCR_INTRFC_LEN. . . .  N NUMB   0009H   A   
DSCR_STRING. . . . . .  N NUMB   0003H   A   
ET_BULK. . . . . . . .  N NUMB   0002H   A   
ET_CONTROL . . . . . .  N NUMB   0000H   A   
ET_INT . . . . . . . .  N NUMB   0003H   A   
ET_ISO . . . . . . . .  N NUMB   0001H   A   
FULLSPEEDCONFIGDSCR. .  C ADDR   0035H   R   SEG=DSCR
FULLSPEEDCONFIGDSCREND  C ADDR   004EH   R   SEG=DSCR
HIGHSPEEDCONFIGDSCR. .  C ADDR   001CH   R   SEG=DSCR
HIGHSPEEDCONFIGDSCREND  C ADDR   0035H   R   SEG=DSCR
STRINGDSCR . . . . . .  C ADDR   004EH   R   SEG=DSCR
STRINGDSCR0. . . . . .  C ADDR   004EH   R   SEG=DSCR
STRINGDSCR0END . . . .  C ADDR   0052H   R   SEG=DSCR
STRINGDSCR1. . . . . .  C ADDR   0052H   R   SEG=DSCR
STRINGDSCR1END . . . .  C ADDR   0062H   R   SEG=DSCR
STRINGDSCR2. . . . . .  C ADDR   0062H   R   SEG=DSCR
STRINGDSCR2END . . . .  C ADDR   0070H   R   SEG=DSCR
USERDSCR . . . . . . .  C ADDR   0070H   R   SEG=DSCR


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
